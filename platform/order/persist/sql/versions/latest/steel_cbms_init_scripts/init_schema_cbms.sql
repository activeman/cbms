--
-- Database: `steel_cbms`
--
-- MySQL Script generated by MySQL Workbench
-- 11/04/15 17:16:02
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
-- -----------------------------------------------------
-- Schema steel_cbms
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `steel_cbms` ;

-- -----------------------------------------------------
-- Schema steel_cbms
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `steel_cbms` DEFAULT CHARACTER SET utf8 ;
USE `steel_cbms` ;

-- -----------------------------------------------------
-- Table `steel_cbms`.`acl_permission`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`acl_permission` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL COMMENT '权限名，如 查看订单',
  `code` VARCHAR(200) NOT NULL COMMENT '权限编码',
  `url` VARCHAR(200) NULL DEFAULT NULL COMMENT '页面URL地址',
  `parent_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '父权限',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=253
DEFAULT CHARACTER SET = utf8
COMMENT = '权限目录';


-- -----------------------------------------------------
-- Table `steel_cbms`.`acl_role`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`acl_role` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL COMMENT '角色名称',
  `code` VARCHAR(45) NOT NULL COMMENT '角色编码',
  `parent_id` BIGINT(20) NULL DEFAULT '0' COMMENT '父角色，如业务员的父角色为总经理',
  `type` INT(11) NOT NULL DEFAULT '0' COMMENT '查看类型，1全看/2同级+下级/3仅下级',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `status` INT(11) NULL DEFAULT NULL COMMENT '状态0锁定1正常',
  `role_type` VARCHAR(20) NULL DEFAULT NULL COMMENT '角色类型：\r\n              CEO(\"CEO\"),\r\n	COO(\"COO\"),\r\n	CFO(\"CFO\"),\r\n	Manager(\"服务中心总经理\"),\r\n	Server(\"内勤\"),\r\n	Trader(\"交易员\"),\r\n	Casher(\"出纳\"),\r\n	LeadCasher(\"总出纳\"),\r\n	Accounter(\"核算会计\");',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=55
DEFAULT CHARACTER SET = utf8
COMMENT = '角色目录';


-- -----------------------------------------------------
-- Table `steel_cbms`.`acl_role_permission`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`acl_role_permission` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `role_id` BIGINT(20) NOT NULL COMMENT '角色ID',
  `permission_id` BIGINT(20) NOT NULL COMMENT '权限ID',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=10842
DEFAULT CHARACTER SET = utf8
COMMENT = '角色权限详情';


-- -----------------------------------------------------
-- Table `steel_cbms`.`acl_user`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`acl_user` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `login_id` VARCHAR(45) NOT NULL COMMENT '登陆id',
  `name` VARCHAR(45) NOT NULL COMMENT '用户姓名',
  `role_id` BIGINT(20) NOT NULL COMMENT '角色',
  `tel` VARCHAR(45) NULL DEFAULT NULL COMMENT '手机号码',
  `org_id` BIGINT(20) NOT NULL COMMENT '组织ID',
  `status` INT(11) NOT NULL DEFAULT '1' COMMENT '状态：0锁定，1正常',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=172
DEFAULT CHARACTER SET = utf8
COMMENT = 'CBMS登录用户 - 服务中心操作人员';

CREATE UNIQUE INDEX `uix_acl_user_login_id` ON `steel_cbms`.`acl_user` (`login_id` ASC);

CREATE UNIQUE INDEX `uix_acl_user_tel` ON `steel_cbms`.`acl_user` (`tel` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`acl_user_permission`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`acl_user_permission` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NOT NULL COMMENT '用户ID',
  `permission_id` BIGINT(20) NOT NULL COMMENT '权限ID',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `type` INT(11) NOT NULL DEFAULT '1' COMMENT '操作类型 0减权限 1增权限',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=724
DEFAULT CHARACTER SET = utf8
COMMENT = '用户特殊权限详情（结合角色权限一起使用）';


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_province`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_province` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL COMMENT '省份名称',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=35
DEFAULT CHARACTER SET = utf8
COMMENT = '省份列表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_city`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_city` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL COMMENT '城市名称',
  `province_id` BIGINT(20) NOT NULL COMMENT '所属省份ID',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=389
DEFAULT CHARACTER SET = utf8
COMMENT = '城市列表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_dict`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_dict` (
  `id` INT(11) NOT NULL,
  `key` VARCHAR(255) NULL DEFAULT NULL,
  `value` VARCHAR(255) NULL DEFAULT NULL,
  `created_by` VARCHAR(45) NULL DEFAULT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NULL DEFAULT NULL,
  `modification_number` INT(20) NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '字典表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_district`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_district` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `name` VARCHAR(45) NOT NULL COMMENT '区域名称',
  `city_id` BIGINT(20) NOT NULL COMMENT '所属城市ID',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=3215
DEFAULT CHARACTER SET = utf8
COMMENT = '区县列表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_organization`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_organization` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `seq_code` VARCHAR(45) NOT NULL DEFAULT 'GW' COMMENT '合同前缀 如 CS-SH-000001 中的SH',
  `name` VARCHAR(45) NOT NULL COMMENT '名称',
  `parent_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '上级组织ID',
  `charger` BIGINT(20) NULL DEFAULT NULL COMMENT '负责人',
  `address` VARCHAR(45) NULL DEFAULT NULL,
  `fax` VARCHAR(45) NULL DEFAULT NULL,
  `status` INT(11) NOT NULL DEFAULT '1' COMMENT '0锁定1正常',
  `credit_limit` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '可透支额度',
  `credit_limit_used` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已透支额度',
  `contract_address` VARCHAR(255) NULL DEFAULT NULL COMMENT '合同签订地',
  `invoiced_host` VARCHAR(45) NULL DEFAULT '0' COMMENT '开票主机设置（多个主机是逗号分隔，如：0,1,2）',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NULL DEFAULT NULL,
  `modification_number` INT(20) NULL DEFAULT NULL,
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=24
DEFAULT CHARACTER SET = utf8
COMMENT = '业务中心组织机构';

CREATE UNIQUE INDEX `uix_base_organization_name` ON `steel_cbms`.`base_organization` (`name` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_organization_delivery_setting`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_organization_delivery_setting` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心id',
  `delivery_type` VARCHAR(45) NOT NULL COMMENT '可用放货单类型:DELIVERYLETTER DELIVERYLETTER 放货函；DELIVERYORDER　放货单；TRANSFERORDER　货权转让单；TRANSFERLETTER　货权转让函',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=24
DEFAULT CHARACTER SET = utf8
COMMENT = '服务中心可用放货单类型设置表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_rebate`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_rebate` (
  `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `category_UUID` VARCHAR(45) NULL DEFAULT NULL COMMENT '对应品类的UUID',
  `rebate_role` DECIMAL(20,2) NULL DEFAULT NULL COMMENT '返利（元/吨）',
  `rebate_status` VARCHAR(45) NULL DEFAULT NULL COMMENT '返利状态（0已取消，1正在生效，2下个月生效）',
  `effective_time` DATETIME NULL DEFAULT NULL COMMENT '返利生效日期',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=34
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_reward`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_reward` (
  `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `reward_type` VARCHAR(45) NOT NULL COMMENT '提成类型: 成交量提成设置category, 订单提成order',
  `category_UUID` VARCHAR(45) NULL COMMENT '如果type为成交量提成设置，这里是对应品类UUID；如果是订单提成，这里存提成的类型',
  `seller_limit` DECIMAL(10,0) NULL DEFAULT NULL COMMENT '卖家月寄售量上限（吨）',
  `reward_role` DECIMAL(20,2) NULL DEFAULT NULL COMMENT '如果type为成交量提成设置，这里是单位提成（元/吨）；如果是订单提成，这里存提成比例',
  `reward_status` VARCHAR(45) NULL DEFAULT NULL COMMENT '提成规则状态(0已失效，1正在生效，2下月生效)',
  `effective_time` DATETIME NULL COMMENT '提成生效日期',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=464
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_sys_feedback`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_sys_feedback` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NOT NULL COMMENT '用户ID',
  `user_name` VARCHAR(45) NOT NULL DEFAULT '' COMMENT '用户姓名',
  `source` VARCHAR(255) NOT NULL DEFAULT '' COMMENT '反馈来源 web网站，app手机',
  `content` VARCHAR(1000) NOT NULL DEFAULT '' COMMENT '反馈内容',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(45) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(45) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '系统反馈表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_sys_setting`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_sys_setting` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `setting_type` VARCHAR(45) NOT NULL COMMENT '设置类型',
  `setting_name` VARCHAR(100) NOT NULL COMMENT '设置名称',
  `setting_value` VARCHAR(100) NOT NULL COMMENT '设置值',
  `default_value` VARCHAR(100) NOT NULL COMMENT '默认设置值',
  `description` VARCHAR(100) NULL COMMENT '描述',
  `display_name` VARCHAR(100) NULL DEFAULT NULL COMMENT '显示',
  `sequence` INT(11) NULL DEFAULT NULL COMMENT '序号',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(45) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(45) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=28
DEFAULT CHARACTER SET = utf8
COMMENT = '系统设置表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`base_system_opration_log`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`base_system_opration_log` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `operator_id` BIGINT(20) NOT NULL COMMENT '操作者ID',
  `operator_name` VARCHAR(45) NOT NULL COMMENT '操作者姓名',
  `operation_key` VARCHAR(100) NOT NULL COMMENT '操作类型的key',
  `operation_name` VARCHAR(100) NOT NULL COMMENT '操作名称',
  `operation_level` VARCHAR(100) NOT NULL COMMENT '操作级别：Safe,Warning,Dangerous,Damning',
  `operation_level_value` INT(11) NULL DEFAULT NULL COMMENT '操作等级的数字值，值越高表示越危险，用于按危险等级排序',
  `parameters` VARCHAR(1000) NOT NULL DEFAULT '' COMMENT '提交的参数',
  `created` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NULL DEFAULT NULL,
  `last_updated` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NULL DEFAULT NULL,
  `modification_number` INT(20) NULL DEFAULT NULL,
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=10186
DEFAULT CHARACTER SET = utf8
COMMENT = '系统操作日志';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_bank_transaction_info`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_bank_transaction_info` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `transaction_number` VARCHAR(45) NOT NULL COMMENT '银行交易号',
  `serial_number` VARCHAR(45) NOT NULL COMMENT '银行流水号',
  `payee_bank_name` VARCHAR(255) NOT NULL COMMENT '付款银行',
  `bank_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '银行行号',
  `payee_name` VARCHAR(100) NOT NULL COMMENT '客户名称',
  `payee_acctount_number` VARCHAR(45) NOT NULL COMMENT '银行账号',
  `transaction_amount` DECIMAL(18,6) NOT NULL COMMENT '到账金额',
  `transaction_time` DATETIME NOT NULL COMMENT '到账时间',
  `note` VARCHAR(255) NULL DEFAULT NULL COMMENT '备注',
  `is_related` BIT(1) NOT NULL DEFAULT b'0' COMMENT '是否关联，周鹏2015/7/17 20:04这列不要了',
  `status` VARCHAR(30) NOT NULL COMMENT '状态 \n\nnormal  正常\n\nunprocessed 未处理\n\nrefund 已处理-退款\n\ncharge 已处理-充值',
  `bank_type` VARCHAR(45) NULL DEFAULT 'SPDB' COMMENT '到账银行类型:SPDB-浦发银行,ICBC-工商银行',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=3263
DEFAULT CHARACTER SET = utf8
COMMENT = '银行到账流水明细（用于到账异常处理及到账关联）';

CREATE UNIQUE INDEX `uix_busi_bank_transaction_info_serial_number` ON `steel_cbms`.`busi_bank_transaction_info` (`serial_number` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_bank_transaction_original_header`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_bank_transaction_original_header` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `req_acctNo` VARCHAR(20) NULL DEFAULT NULL COMMENT '账号',
  `req_beginDate` DATE NULL DEFAULT NULL COMMENT '开始日期',
  `req_endDate` DATE NULL DEFAULT NULL COMMENT '结束日期',
  `req_queryNumber` INT(11) NULL DEFAULT NULL COMMENT '查询的笔数',
  `req_beginNumber` INT(11) NULL DEFAULT NULL COMMENT '查询的起始笔数',
  `req_transAmount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '交易金额',
  `req_subAccount` CHAR(32) NULL DEFAULT NULL COMMENT '对方帐号',
  `req_subAcctName` CHAR(62) NULL DEFAULT NULL COMMENT '对方户名',
  `res_totalCount` INT(11) NULL DEFAULT NULL COMMENT '交易总笔数',
  `res_acctNo` VARCHAR(20) NULL DEFAULT NULL COMMENT '账号',
  `res_acctName` VARCHAR(60) NULL DEFAULT NULL COMMENT '账号名称',
  `res_currency` INT(2) NULL DEFAULT NULL COMMENT '账户币种',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=2676
DEFAULT CHARACTER SET = utf8
COMMENT = '银企直联查询日志';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_bank_transaction_original_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_bank_transaction_original_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `header_id` BIGINT(20) NOT NULL COMMENT '表头ID',
  `voucherNo` VARCHAR(13) NULL DEFAULT NULL COMMENT '凭证号',
  `seqNo` VARCHAR(12) NULL DEFAULT NULL COMMENT '交易流水号:记账流水',
  `txAmount` VARCHAR(18) NULL DEFAULT NULL COMMENT '交易金额',
  `balance` VARCHAR(18) NULL DEFAULT NULL COMMENT '账户余额',
  `tranFlag` VARCHAR(1) NULL DEFAULT NULL COMMENT '借贷标志\n0：借\n1：贷\n',
  `transDate` VARCHAR(10) NULL DEFAULT NULL COMMENT '交易日期',
  `transTime` VARCHAR(10) NULL DEFAULT NULL COMMENT '交易时间\nHHMMSS，\n最长6位，最短只有1位\n',
  `note` VARCHAR(60) NULL DEFAULT NULL COMMENT '备注 :客户附言',
  `remark` VARCHAR(22) NULL DEFAULT NULL COMMENT '摘要代码',
  `payeeBankNo` VARCHAR(12) NULL DEFAULT NULL COMMENT 'payeeBankNo',
  `payeeBankName` VARCHAR(255) NULL DEFAULT NULL COMMENT '对方行名',
  `payeeAcctNo` VARCHAR(32) NULL DEFAULT NULL COMMENT '对方账号',
  `payeeName` VARCHAR(100) NULL DEFAULT NULL COMMENT '对方户名',
  `transCode` VARCHAR(4) NULL DEFAULT NULL COMMENT '交易代码',
  `branchId` VARCHAR(4) NULL DEFAULT NULL COMMENT '分行ID',
  `customerAcctNo` VARCHAR(20) NULL DEFAULT NULL COMMENT '客户账号',
  `payeeAcctType` VARCHAR(1) NULL DEFAULT NULL COMMENT '对方账号类型\n\n**KHZHLX        客户账号类型\n0-对公账号\n1-卡\n2-活期一本通\n3-定期一本通\n4-定期存折\n5-存单\n6-国债\n7-外系统账号\n8-活期存折\n9-内部帐/表外帐\nS-对私内部账号\nT-个人保证金\nU-浦发花旗信用卡卡号\nZ-客户号\n',
  `transCounter` VARCHAR(8) NULL DEFAULT NULL COMMENT '交易柜员',
  `authCounter` VARCHAR(8) NULL DEFAULT NULL COMMENT '授权柜员',
  `otherChar10` VARCHAR(10) NULL DEFAULT NULL COMMENT '备用域10位',
  `otherChar40` VARCHAR(10) NULL DEFAULT NULL COMMENT '备用域40位',
  `seqNum` VARCHAR(45) NULL DEFAULT NULL COMMENT '传票序号:记账流水的序号',
  `revFlag` VARCHAR(1) NULL DEFAULT NULL COMMENT '冲补标志\n0-无关\n1-当日抹帐\n2-隔日抹帐\n',
  `begin_number` INT(11) NOT NULL DEFAULT '0' COMMENT '查询起始笔数',
  `begin_date` VARCHAR(30) NULL DEFAULT NULL COMMENT '查询起始日期',
  `status` INT(11) NULL DEFAULT '0' COMMENT '0未处理1处理完2处理中',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=7150
DEFAULT CHARACTER SET = utf8
COMMENT = '银企直销银行流水记账明细';

CREATE UNIQUE INDEX `uix_busi_bank_transaction_original_detail_seqNo` ON `steel_cbms`.`busi_bank_transaction_original_detail` (`seqNo` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_bill_sequence`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_bill_sequence` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NULL DEFAULT NULL COMMENT '用户ID',
  `org_id` BIGINT(20) NOT NULL COMMENT '部门ID',
  `account_id` BIGINT(20) NOT NULL COMMENT '客户ID',
  `seq_type` VARCHAR(45) NOT NULL COMMENT '类型\nJS 寄售订单\nDH 订货\nXS 销售\nJS-HZ-000001-1506-300',
  `current_value` INT(11) NOT NULL COMMENT '当前值',
  `seq_date` VARCHAR(8) NULL DEFAULT NULL COMMENT '序列年月 如 1504',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=3517
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_consign_order`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_consign_order` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NULL DEFAULT NULL COMMENT '单号',
  `account_id` BIGINT(20) NOT NULL COMMENT '买家ID',
  `account_name` VARCHAR(45) NOT NULL COMMENT '买家企业名称',
  `owner_id` BIGINT(20) NOT NULL COMMENT '交易员ID',
  `owner_name` VARCHAR(45) NOT NULL COMMENT '交易员姓名',
  `contact_id` BIGINT(20) NOT NULL COMMENT '联系人ID',
  `contact_name` VARCHAR(45) NOT NULL COMMENT '联系人姓名',
  `contact_tel` VARCHAR(45) NOT NULL COMMENT '联系人电话',
  `delivery_type` ENUM('SELFPICK','DISPATCH') NOT NULL COMMENT 'SELFPICK：自提+DISPATCH:配送',
  `delivery_start_date` DATETIME NULL COMMENT '交货开始时间',
  `delivery_end_date` DATETIME NULL DEFAULT NULL COMMENT '交货结束时间',
  `fee_taker` VARCHAR(45) NOT NULL COMMENT '运费承担方',
  `ship_fee` DECIMAL(18,6) NULL COMMENT '运费',
  `outbound_taker` VARCHAR(45) NULL DEFAULT NULL COMMENT '出库费承担方',
  `outbound_fee` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '出库费',
  `total_quantity` INT(11) NOT NULL COMMENT '总件数',
  `total_weight` DECIMAL(18,6) NOT NULL COMMENT '总重量',
  `total_amount` DECIMAL(18,6) NOT NULL COMMENT '总金额',
  `second_balance_takeout` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '使用的二次结算金额',
  `total_contract_releted_amount` DECIMAL(18,6) NULL COMMENT '合同关联金额（买家付款金额)',
  `status` VARCHAR(45) NOT NULL COMMENT '1 NEW 新建（待审核） 待审核\n-1 NEWDECLINED 订单关闭-审核不通过\n2 NEWAPPROVED 审核通过(待关联) 待关联\n3 CLOSEREQUEST1 请求关闭1\n-2 CLOSE1APPROVED 订单关闭-请求1通过\n4 RELATED 已关联\n5 CLOSEREQUEST2 请求关闭2\n-2 CLOSE2APPROVED 订单关闭-请求2通过\n6 SECONDSETTLE 待二次结算\n7 INVOICEREQUEST 待开票申请\n8 INVOICE 待开票\n10 FINISH 交易完成\n-3 SYSCLOSED 订单关闭-5点半未关联（待关联）订单',
  `origin_status` VARCHAR(45) NULL COMMENT '订单申请关闭之前的状态',
  `change_status` VARCHAR(45) NOT NULL DEFAULT 'NONE' COMMENT 'NONE   无变更；\nCHANGED 变更待审核；\nDISAPPROVE 变更审核失败；\nAPPROVE 变更成功。',
  `note` VARCHAR(255) NULL COMMENT '备注',
  `contract_code` VARCHAR(45) NULL COMMENT '采购合同号',
  `pay_status` VARCHAR(45) NOT NULL DEFAULT 'APPLY' COMMENT '付款状态\nAPPLY 待申请（未申请／审核不通过）\nREQUESTED 已申请/待审核\nAPPROVED 已通过审核待确认付款\nPAYED已确认付款',
  `pickup_status` INT(11) NOT NULL DEFAULT '1' COMMENT '提货状态：\n1 未录入\n2 部分录入\n3 全录入',
  `fillup_status` INT(11) NOT NULL DEFAULT '-1' COMMENT '放货打印状态\n1　已全打印\n0　未全打印\n2    全匹配 -1 初始化',
  `consign_type` VARCHAR(45) NOT NULL DEFAULT 'consign' COMMENT '寄售类型\nconsign 寄售\ntemp  临采',
  `operator_id` BIGINT(20) NOT NULL COMMENT '创建人Id',
  `operator_name` VARCHAR(45) NOT NULL COMMENT '创建人名称',
  `contract_address` VARCHAR(255) NULL COMMENT '合同签订地',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL,
  `parent_row_id` VARCHAR(45) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=8868
DEFAULT CHARACTER SET = utf8
COMMENT = '寄售交易订单';

CREATE UNIQUE INDEX `uix_busi_consign_order_code` ON `steel_cbms`.`busi_consign_order` (`code` ASC);

CREATE INDEX `IDX_OPERATOR_ID` ON `steel_cbms`.`busi_consign_order` (`operator_id` ASC);

CREATE INDEX `IDX_OPERATOR_ID_STATUS` ON `steel_cbms`.`busi_consign_order` (`operator_id` ASC, `status` ASC);

CREATE INDEX `IDX_account_id_owner_id_STATUS` ON `steel_cbms`.`busi_consign_order` (`account_id` ASC, `owner_id` ASC, `status` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_consign_order_attachment`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_consign_order_attachment` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `consign_order_id` BIGINT(20) NOT NULL COMMENT '订单号',
  `type` VARCHAR(30) NOT NULL COMMENT '类型，如 合同',
  `file_url` VARCHAR(150) NOT NULL COMMENT '附件路径',
  `relate_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '关联ID，如：寄售订单合同表ID',
  `status` INT(11) NOT NULL DEFAULT '0' COMMENT '状态 \n0有效 默认\n1无效（逻辑删除）',
  `note` VARCHAR(100) NULL DEFAULT NULL COMMENT '备注',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=8039
DEFAULT CHARACTER SET = utf8
COMMENT = '寄售订单合同附件';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_consign_order_audit_trail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_consign_order_audit_trail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `order_id` BIGINT(20) NULL DEFAULT NULL COMMENT '订单ID',
  `set_to_status` VARCHAR(45) NULL DEFAULT NULL COMMENT '设置成状态',
  `operator_id` BIGINT(20) NULL DEFAULT NULL COMMENT '操作员ID，如果为空表示系统自动关闭',
  `operator_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '操作员姓名',
  `note` VARCHAR(255) NULL DEFAULT NULL COMMENT '备注',
  `status_type` ENUM('MAIN','PAY','SECONDPAY','PICKUP','FILLUP') NULL DEFAULT NULL COMMENT '状态类别：\nMAIN 订单状态\nPAY 付款状态\nSECONDPAY 二次结算付款\nPICKUP 提货状态\nFILLUP  放货状态\n\n',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=66405
DEFAULT CHARACTER SET = utf8
COMMENT = '寄售订单审核状态';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_consign_order_contract`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_consign_order_contract` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `consign_order_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '寄售订单ID',
  `contract_code_auto` VARCHAR(45) NOT NULL COMMENT '合同编号（自动生成）',
  `contract_code_cust` VARCHAR(45) NULL DEFAULT NULL COMMENT '合同编号（客户自定义）',
  `bank_name_main` VARCHAR(45) NULL DEFAULT NULL COMMENT '开户银行主行 如 工商银行',
  `bank_name_branch` VARCHAR(45) NULL DEFAULT NULL COMMENT '开户银行支行 如XX支行',
  `bank_account_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '银行账号',
  `customer_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '客户单位名称',
  `customer_id` BIGINT(20) NULL DEFAULT NULL COMMENT '客户编号',
  `customer_addr` VARCHAR(45) NULL DEFAULT NULL COMMENT '客户单位注册地址',
  `customer_tel` VARCHAR(45) NULL DEFAULT NULL COMMENT '客户联系电话',
  `order_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '订单金额',
  `balance_second_settlement` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '二次结算记账余额',
  `apply_pay_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '申请付款金额',
  `status` VARCHAR(45) NOT NULL DEFAULT '0' COMMENT '状态\n0.未申请付款合同未上\n1.未申请付款合同已上传\n2.已申请付款',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=8128
DEFAULT CHARACTER SET = utf8
COMMENT = '寄售订单合同';

CREATE UNIQUE INDEX `uix_busi_consign_order_contract_code_auto` ON `steel_cbms`.`busi_consign_order_contract` (`contract_code_auto` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_consign_order_items`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_consign_order_items` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `order_id` BIGINT(20) NULL DEFAULT NULL COMMENT '订单号',
  `seller_id` BIGINT(20) NULL DEFAULT NULL COMMENT '卖家ID',
  `seller_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '卖家名称',
  `nsort_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '品名',
  `material` VARCHAR(45) NULL DEFAULT NULL COMMENT '材质',
  `spec` VARCHAR(45) NULL DEFAULT NULL COMMENT '规格',
  `factory` VARCHAR(45) NULL DEFAULT NULL COMMENT '厂家',
  `city` VARCHAR(45) NULL DEFAULT NULL COMMENT '城市',
  `warehouse` VARCHAR(45) NULL DEFAULT NULL COMMENT '仓库',
  `quantity` INT(11) NULL DEFAULT NULL COMMENT '数量 件数',
  `weight` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '重量',
  `weight_concept` VARCHAR(45) NULL DEFAULT NULL COMMENT '理计，磅计，抄码',
  `cost_price` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '底价',
  `deal_price` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '成交价',
  `amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '金额',
  `invoice_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '已开票金额（可以一次开部分金额）',
  `invoice_weight` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '已开票重量',
  `used_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '已用发票金额',
  `used_weight` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '已用发票重量',
  `actual_pick_weight_salesman` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '交易员录入的实际提货重量（用于二次结算）',
  `actual_pick_weight_server` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '内勤员录入的实际提货重量（用于二次结算）',
  `actual_pick_quantity_salesman` INT(11) NOT NULL DEFAULT '0' COMMENT '交易员录入的实际提货件数（用于二次结算）',
  `actual_pick_quantity_server` INT(11) NOT NULL DEFAULT '0' COMMENT '内勤员录入的实际提货件数（用于二次结算）',
  `status` INT(11) NOT NULL DEFAULT '0' COMMENT '匹配状态\n0未匹配\n1已匹配',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=15097
DEFAULT CHARACTER SET = utf8
COMMENT = '寄售订单商品明细';

CREATE INDEX `IDX_ORDER_ID` ON `steel_cbms`.`busi_consign_order_items` (`order_id` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_consign_order_items_history`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_consign_order_items_history` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `uuid` VARCHAR(45) NOT NULL,
  `order_id` BIGINT(20) NOT NULL COMMENT '订单号',
  `seller_name` VARCHAR(45) NOT NULL,
  `nsort_name` VARCHAR(45) NOT NULL COMMENT '品名',
  `material` VARCHAR(45) NOT NULL COMMENT '材质',
  `spec` VARCHAR(45) NOT NULL COMMENT '规格',
  `factory` VARCHAR(45) NOT NULL COMMENT '厂家',
  `warehouse` VARCHAR(45) NOT NULL COMMENT '仓库',
  `quantity` INT(11) NOT NULL COMMENT '数量 件数',
  `weight` DECIMAL(18,6) NOT NULL COMMENT '重量',
  `weight_concept` VARCHAR(45) NOT NULL COMMENT '理计，磅计，抄码',
  `cost_price` DECIMAL(18,6) NOT NULL COMMENT '底价(采购价)',
  `deal_price` DECIMAL(18,6) NOT NULL COMMENT '成交价(销售价)',
  `sale_amount` DECIMAL(18,6) NOT NULL COMMENT ' 销售金额',
  `purchase_amount` DECIMAL(18,6) NOT NULL COMMENT '采购金额',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '寄售订单商品变更历史';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_consign_process`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_consign_process` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `org_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '组织机构ID',
  `org_name` VARCHAR(45) NOT NULL COMMENT '组织机构名称',
  `user_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '交易员ID',
  `user_name` VARCHAR(45) NOT NULL COMMENT '交易员名称',
  `type` INT(11) NOT NULL DEFAULT '0' COMMENT '0取数1二次结算',
  `order_status_code` VARCHAR(45) NOT NULL COMMENT '订单状态',
  `order_status_name` VARCHAR(45) NOT NULL,
  `operator_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '流程操作员ID',
  `operator_name` VARCHAR(45) NOT NULL COMMENT '流程操作员姓名',
  `operator_mobile` VARCHAR(45) NOT NULL COMMENT '流程操作员手机',
  `operator_role_name` VARCHAR(45) NOT NULL COMMENT '流程操作员角色',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=3137
DEFAULT CHARACTER SET = utf8
COMMENT = '寄售流程定义';

CREATE INDEX `IDX_OPERATOR_ID_USER_ID` ON `steel_cbms`.`busi_consign_process` (`operator_id` ASC, `user_id` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_delivery_bill`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_delivery_bill` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NULL DEFAULT NULL COMMENT '提货单号',
  `consign_order_id` BIGINT(20) NULL DEFAULT NULL COMMENT '寄售单ID',
  `consign_order_code` VARCHAR(45) NOT NULL COMMENT '寄售单号',
  `pickup_id` BIGINT(20) NULL DEFAULT NULL COMMENT '提货单ID',
  `pickup_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '提货单号',
  `buyer_id` BIGINT(20) NOT NULL COMMENT '卖家ID',
  `buyer_name` VARCHAR(45) NOT NULL COMMENT '卖家全称',
  `seller_id` BIGINT(20) NOT NULL COMMENT '卖家ID',
  `seller_name` VARCHAR(45) NOT NULL COMMENT '卖家名称',
  `delivery_type` VARCHAR(30) NOT NULL COMMENT '提货方式',
  `note` VARCHAR(255) NULL DEFAULT NULL COMMENT '备注',
  `total_weight` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '总重量',
  `total_quantity` INT(11) NULL DEFAULT NULL COMMENT '总数量',
  `total_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '总金额',
  `print_times` INT(11) NULL DEFAULT NULL COMMENT '打印次数，大于0则为已打印',
  `delivery_order_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '放货单编号',
  `delivery_order_print_times` INT(11) NULL DEFAULT NULL COMMENT '放货单打印次数',
  `buyer_pickupbill_path` VARCHAR(100) NULL DEFAULT NULL COMMENT '买家提货单图片保存路径',
  `status` INT(11) NOT NULL DEFAULT '1' COMMENT '状态\n1有效\n0无效',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=5378
DEFAULT CHARACTER SET = utf8
COMMENT = '放货单';

CREATE UNIQUE INDEX `uix_busi_delivery_bill_code` ON `steel_cbms`.`busi_delivery_bill` (`code` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_delivery_items`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_delivery_items` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `bill_id` BIGINT(20) NULL DEFAULT NULL COMMENT '放货单ID',
  `pickup_id` BIGINT(20) NULL DEFAULT NULL COMMENT '提货单ID',
  `consign_order_item_id` BIGINT(20) NOT NULL COMMENT '寄售单明细ID',
  `picked_quantity` INT(11) NOT NULL COMMENT '已提数量',
  `pick_quantity` INT(11) NOT NULL COMMENT '提货数量',
  `pick_weight` DECIMAL(18,6) NOT NULL COMMENT '提货重量',
  `package_no` VARCHAR(45) NULL DEFAULT NULL COMMENT '捆包号',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=10105
DEFAULT CHARACTER SET = utf8
COMMENT = '放货单明细';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_delivery_print_times`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_delivery_print_times` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `delivery_id` BIGINT(20) NOT NULL COMMENT '放货单id',
  `delivery_type` VARCHAR(45) NOT NULL COMMENT '放货单类型',
  `print_times` INT(11) NOT NULL COMMENT '打印次数',
  `is_deleted` BIT(1) NULL DEFAULT NULL,
  `created` DATETIME NOT NULL,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(11) NOT NULL,
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=92
DEFAULT CHARACTER SET = utf8
COMMENT = '记录放货单打印次数';


-- -----------------------------------------------------
-- Table `steel_cbms`.`cust_account`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`cust_account` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NOT NULL COMMENT '公司代码',
  `name` VARCHAR(100) NOT NULL COMMENT '全称',
  `addr` VARCHAR(200) NULL COMMENT '地址',
  `zip` VARCHAR(45) NULL DEFAULT NULL COMMENT '邮编',
  `tel` VARCHAR(45) NULL COMMENT '公司电话',
  `balance` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '现金余额',
  `balance_freeze` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '冻结余额',
  `balance_second_settlement` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '二次结算记账余额',
  `balance_second_settlement_freeze` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '二次结算冻结余额',
  `fax` VARCHAR(45) NULL COMMENT '传真',
  `legal_person_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '法人姓名',
  `mobil` VARCHAR(45) NULL DEFAULT NULL COMMENT '手机',
  `business` VARCHAR(200) CHARACTER SET 'utf8' COLLATE 'utf8_bin' NULL DEFAULT NULL COMMENT '经营品种',
  `web_site_url` VARCHAR(500) NULL DEFAULT NULL COMMENT '网址',
  `business_type` ENUM('merchant','factory','terminal','next_terminal','other') NULL DEFAULT NULL COMMENT '客户类型\nmerchant 钢贸商,\nfactory 钢厂,\nterminal 终端,\nnext_terminal 次终端\nother 其他',
  `province_id` BIGINT(20) NULL DEFAULT NULL COMMENT '省份ID',
  `city_id` BIGINT(20) NULL DEFAULT NULL COMMENT '城市ID',
  `district_id` BIGINT(20) NULL DEFAULT NULL COMMENT '区域ID',
  `proxy_factory` VARCHAR(45) NULL DEFAULT NULL COMMENT '代理钢厂',
  `proxy_qty` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '代理数量 eg：1111.1111吨',
  `license_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '营业执照注册号',
  `reg_address` VARCHAR(100) NULL DEFAULT NULL COMMENT '公司注册地址',
  `org_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '组织机构代码',
  `bank_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '开户银行行号',
  `bank_name_main` VARCHAR(45) NULL DEFAULT NULL COMMENT '开户银行主行 如 工商银行',
  `bank_name_branch` VARCHAR(45) NULL DEFAULT NULL COMMENT '开户银行支行 如XX支行',
  `bank_province_id` BIGINT(20) NULL DEFAULT NULL COMMENT '银行所在省',
  `bank_city_id` BIGINT(20) NULL DEFAULT NULL COMMENT '银行所在城市',
  `account_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '银行账号',
  `tax_code` VARCHAR(45) NULL COMMENT '税号',
  `reg_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '注册时间 其实就是录入时间',
  `last_bill_time` DATETIME NULL COMMENT '最后下单时间(买家)',
  `buyer_deal_total` INT(11) NOT NULL DEFAULT '0' COMMENT '成交次数',
  `seller_deal_total` INT(11) NOT NULL DEFAULT '0',
  `type` ENUM('buyer','seller','both') NULL COMMENT '类型（买家、卖家、两者都是）',
  `consign_type` VARCHAR(45) NULL COMMENT '寄售类型\nconsign 寄售\ntemp  临采',
  `manager_id` BIGINT(20) NULL DEFAULT NULL COMMENT '现任交易管理员',
  `status` INT(11) NULL DEFAULT '1' COMMENT '0锁定1解锁',
  `invoice_data_status` VARCHAR(10) NULL DEFAULT NULL COMMENT '买家开票资料状态1.审核通过 2.待审核 3.资料不全 4。审核失败 ',
  `invoice_data_decline_reason` VARCHAR(255) NULL COMMENT '买家开票资料审核失败原因',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=2380
DEFAULT CHARACTER SET = utf8
COMMENT = '客户公司列表及详情';

CREATE UNIQUE INDEX `uix_cust_account_code` ON `steel_cbms`.`cust_account` (`code` ASC);

CREATE UNIQUE INDEX `uix_cust_account_name` ON `steel_cbms`.`cust_account` (`name` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_pay_request`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_pay_request` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NULL COMMENT '付款申请单号',
  `consign_order_id` BIGINT(20) NULL COMMENT '寄售单号 订单初次付款申请，二次结算时勾选申请付款这两种情况下使用,提现不需要',
  `consign_order_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '寄售单号 订单初次付款申请，二次结算时勾选申请付款这两种情况下使用,提现不需要',
  `contract_code` VARCHAR(45) NULL COMMENT '寄售单采购合同号 订单初次付款申请，二次结算时勾选申请付款这两种情况下使用,提现不需要',
  `contract_url` VARCHAR(100) NULL DEFAULT NULL COMMENT '上传合同地址',
  `requester_id` BIGINT(20) NULL DEFAULT NULL COMMENT '申请人id',
  `requester_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '申请人姓名',
  `org_id` BIGINT(20) NULL DEFAULT NULL COMMENT '申请部门ID',
  `org_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '申请部门名称',
  `buyer_id` BIGINT(20) NULL DEFAULT NULL COMMENT '买家客户ID  订单初次付款申请，二次结算时勾选申请付款这两种情况下使用,提现不需要',
  `buyer_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '收款客户名称',
  `total_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '付款总金额',
  `status` VARCHAR(45) NOT NULL COMMENT '状态\nREQUESTED 已申请 待审核\nAPPROVED 已通过审核\nDECLINED 未通过\nCONFIRMEDPAY 已确认付款',
  `decline_reason` VARCHAR(200) NULL DEFAULT NULL COMMENT '未通过审核原因',
  `type` VARCHAR(45) NULL DEFAULT NULL COMMENT '类型，\n1.初次付款\n2.二次结算\n3.提现',
  `print_times` INT(11) NOT NULL DEFAULT '0' COMMENT '打印次数',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `last_print_ip` VARCHAR(45) NULL DEFAULT NULL,
  `print_name` VARCHAR(45) NULL DEFAULT NULL,
  `last_print_date` DATETIME NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(20) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=6080
DEFAULT CHARACTER SET = utf8
COMMENT = '付款申请单(一次,二次,提现)';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_pay_request_items`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_pay_request_items` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `request_id` BIGINT(20) NULL DEFAULT NULL COMMENT '申请单ID',
  `receiver_id` BIGINT(20) NULL DEFAULT NULL COMMENT '收款客户id',
  `receiver_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '收款单位',
  `receiver_bank_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '收款单位银行行号',
  `receiver_bank_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '收款单位开户行',
  `receiver_bank_city` VARCHAR(45) NULL DEFAULT NULL COMMENT '收款人银行所在城市',
  `receiver_branch_bank_name` VARCHAR(45) NULL DEFAULT NULL,
  `receiver_account_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '收款银行账号',
  `receiver_tel` VARCHAR(45) NULL DEFAULT NULL COMMENT '联系电话',
  `receiver_reg_addr` VARCHAR(45) NULL DEFAULT NULL COMMENT '注册地址',
  `pay_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '付款金额',
  `second_balance_takeout` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '抵扣二次结算余额',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=6083
DEFAULT CHARACTER SET = utf8
COMMENT = '付款申请明细表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_pickup_attachment`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_pickup_attachment` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `pickup_bill_id` BIGINT(20) NOT NULL COMMENT '提货单号',
  `file_url` VARCHAR(150) NOT NULL COMMENT '文件地址',
  `status` INT(11) NOT NULL DEFAULT '1' COMMENT '状态\n1有效\n0无效',
  `note` VARCHAR(100) NULL DEFAULT NULL COMMENT '备注，用于说明附件的用途',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '提货单附件';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_pickup_bill`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_pickup_bill` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NULL DEFAULT NULL COMMENT '提货单号',
  `consign_order_id` BIGINT(20) NULL DEFAULT NULL COMMENT '寄售单ID',
  `consign_order_code` VARCHAR(45) NOT NULL COMMENT '寄售单号',
  `buyer_id` BIGINT(20) NOT NULL COMMENT '卖家ID',
  `buyer_name` VARCHAR(45) NOT NULL COMMENT '卖家全称',
  `delivery_type` VARCHAR(30) NOT NULL COMMENT '提货方式',
  `note` VARCHAR(255) NULL DEFAULT NULL COMMENT '备注',
  `total_weight` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '总重量',
  `total_quantity` INT(11) NULL DEFAULT NULL COMMENT '总数量',
  `total_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '总金额',
  `print_times` INT(11) NULL DEFAULT NULL COMMENT '打印次数，大于0则为已打印',
  `buyer_pickupbill_path` VARCHAR(100) NULL DEFAULT NULL COMMENT '买家提货单图片保存路径',
  `status` INT(11) NOT NULL DEFAULT '1' COMMENT '状态\n1有效\n0无效',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=5503
DEFAULT CHARACTER SET = utf8
COMMENT = '提货单';

CREATE UNIQUE INDEX `uix_busi_pickup_bill_code` ON `steel_cbms`.`busi_pickup_bill` (`code` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_pickup_items`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_pickup_items` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `bill_id` BIGINT(20) NULL DEFAULT NULL COMMENT '提货单ID',
  `seller_id` BIGINT(20) NULL DEFAULT NULL,
  `seller_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '卖家名称',
  `consign_order_item_id` BIGINT(20) NOT NULL COMMENT '寄售单明细ID',
  `picked_quantity` INT(11) NOT NULL COMMENT '已提数量',
  `pick_quantity` INT(11) NOT NULL COMMENT '提货数量',
  `pick_weight` DECIMAL(18,6) NOT NULL COMMENT '提货重量',
  `package_no` VARCHAR(45) NULL DEFAULT NULL COMMENT '捆包号',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=11528
DEFAULT CHARACTER SET = utf8
COMMENT = '提货单明细';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_pickup_person`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_pickup_person` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `valid_code` VARCHAR(45) NOT NULL COMMENT '证件号，如车牌号，身份证号',
  `pickup_bill_id` BIGINT(20) NOT NULL COMMENT '提货单号',
  `name` VARCHAR(45) NOT NULL COMMENT '提货人姓名',
  `mobil` VARCHAR(45) NOT NULL COMMENT '联系方式',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=5651
DEFAULT CHARACTER SET = utf8
COMMENT = '提货人';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_print_log`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_print_log` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `bill_code` VARCHAR(45) NOT NULL COMMENT '打印单据代号或编号',
  `bill_type` VARCHAR(45) NOT NULL COMMENT '打印单据类型',
  `user_id` BIGINT(20) NOT NULL COMMENT '打印人ID',
  `user_name` VARCHAR(45) NOT NULL COMMENT '打印人名称',
  `ip_address` VARCHAR(45) NOT NULL COMMENT 'IP地址',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '打印日志';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_refund_request`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_refund_request` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `ref_bank_serial_number` VARCHAR(45) NOT NULL COMMENT '相关银行流水号',
  `type` VARCHAR(45) NOT NULL COMMENT '业务类型',
  `receiver_name` VARCHAR(45) NOT NULL COMMENT '收款单位',
  `receiver_account_name` VARCHAR(45) NOT NULL COMMENT '收款单位开户行',
  `receiver_account_code` VARCHAR(45) NOT NULL COMMENT '收款单位银行账号',
  `bank_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '银行行号',
  `amount_upper_case` VARCHAR(45) NOT NULL COMMENT '金额大写',
  `amount_lower_case` DECIMAL(18,6) NOT NULL COMMENT '金额',
  `reason` VARCHAR(255) NULL DEFAULT NULL COMMENT '原因',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '退款申请';


-- -----------------------------------------------------
-- Table `steel_cbms`.`common_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`common_category` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `uuid` VARCHAR(45) NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  `priority` INT(11) NULL DEFAULT NULL,
  `is_deleted` BIT(1) NOT NULL,
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=3079
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`common_category_group`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`common_category_group` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `uuid` VARCHAR(45) NOT NULL COMMENT '全站唯一标识',
  `parent_uuid` VARCHAR(45) NOT NULL COMMENT '父级uuid',
  `name` VARCHAR(45) NOT NULL COMMENT '分组名称',
  `site_uuid` VARCHAR(45) NOT NULL COMMENT '分组对应的站点',
  `is_deleted` BIT(1) NOT NULL DEFAULT b'0' COMMENT '逻辑删除',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=2513
DEFAULT CHARACTER SET = utf8
COMMENT = '品名分组，分组,  可以存在上下级关系(板材-热轧/冷轧)分组跟对应的站点关联起来（超市，CBMS）';

CREATE UNIQUE INDEX `uuid_UNIQUE` ON `steel_cbms`.`common_category_group` (`uuid` ASC);

CREATE INDEX `common_category_group_site_idx` ON `steel_cbms`.`common_category_group` (`site_uuid` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`common_category_materials`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`common_category_materials` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `category_uuid` VARCHAR(45) NOT NULL COMMENT '关联的品类id',
  `materials_uuid` VARCHAR(45) NOT NULL COMMENT '关联的材质id',
  `is_deleted` BIT(1) NOT NULL DEFAULT b'0' COMMENT '逻辑删除',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=3349
DEFAULT CHARACTER SET = utf8
COMMENT = '品类对应的材质列表';

CREATE INDEX `common_category_materials_category_idx` ON `steel_cbms`.`common_category_materials` (`category_uuid` ASC);

CREATE INDEX `common_category_materials_materials_idx` ON `steel_cbms`.`common_category_materials` (`materials_uuid` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`common_category_norms`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`common_category_norms` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `category_uuid` VARCHAR(45) NOT NULL COMMENT '关联的品类ID',
  `norms_uuid` VARCHAR(45) NOT NULL COMMENT '关联的规格ID',
  `range` VARCHAR(1000) NOT NULL COMMENT '该规格的取值范围',
  `range_type` VARCHAR(45) NOT NULL COMMENT '范围计算类型\nInteger: range是以-号分隔的两个整数\nDecimal: range是以-号分隔的两个浮点数\nString: range是以,号分隔的字符串',
  `is_deleted` BIT(1) NOT NULL DEFAULT b'0' COMMENT '逻辑删除',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=918
DEFAULT CHARACTER SET = utf8
COMMENT = '品名对应的规格表';

CREATE INDEX `common_category_norms_category_idx` ON `steel_cbms`.`common_category_norms` (`category_uuid` ASC);

CREATE INDEX `common_category_norms_norms_idx` ON `steel_cbms`.`common_category_norms` (`norms_uuid` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`common_group_for_category`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`common_group_for_category` (
  `id` INT(11) NOT NULL AUTO_INCREMENT COMMENT '品类与分组对应表',
  `category_uuid` VARCHAR(45) NOT NULL COMMENT '关联的品类UUID',
  `category_group_uuid` VARCHAR(45) NOT NULL COMMENT '关联的分组UUID',
  `is_deleted` BIT(1) NOT NULL COMMENT '逻辑删除',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=840
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`common_materials`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`common_materials` (
  `id` INT(11) NOT NULL,
  `uuid` VARCHAR(45) NOT NULL COMMENT '全站唯一标识',
  `name` VARCHAR(45) NOT NULL COMMENT '材质名称',
  `is_deleted` BIT(1) NOT NULL DEFAULT b'0' COMMENT '逻辑删除',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '钢铁材质表';

CREATE UNIQUE INDEX `uuid_UNIQUE` ON `steel_cbms`.`common_materials` (`uuid` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`common_norms`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`common_norms` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `uuid` VARCHAR(45) NOT NULL COMMENT '全站唯一标识',
  `name` VARCHAR(45) NOT NULL COMMENT '规格名称（长、宽、高...）',
  `unit` VARCHAR(45) NOT NULL COMMENT '衡量单位（毫米、厘米...）',
  `is_deleted` BIT(1) NOT NULL DEFAULT b'0' COMMENT '逻辑删除',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '规格表';

CREATE UNIQUE INDEX `uuid_UNIQUE` ON `steel_cbms`.`common_norms` (`uuid` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`common_site`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`common_site` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `uuid` VARCHAR(45) NOT NULL COMMENT '全站唯一标识',
  `name` VARCHAR(45) NULL DEFAULT NULL COMMENT '站点名称',
  `is_deleted` BIT(1) NULL DEFAULT NULL COMMENT '逻辑删除',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=3
DEFAULT CHARACTER SET = utf8
COMMENT = '平台站点表';

CREATE UNIQUE INDEX `uuid_UNIQUE` ON `steel_cbms`.`common_site` (`uuid` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`cust_account_assign_logs`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`cust_account_assign_logs` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `account_id` BIGINT(20) NOT NULL COMMENT '客户ID',
  `reg_time` DATETIME NOT NULL COMMENT '注册时间',
  `manager_ex_id` BIGINT(20) NOT NULL COMMENT '前管理员ID',
  `manager_ex_name` VARCHAR(45) NOT NULL COMMENT '前管理员姓名',
  `manager_next_id` BIGINT(20) NOT NULL COMMENT '现管理员ID',
  `manager_next_name` VARCHAR(45) NOT NULL COMMENT '现管理员姓名',
  `assigner_id` BIGINT(20) NOT NULL COMMENT '分配人ID',
  `assigner_name` VARCHAR(45) NOT NULL COMMENT '分配人姓名',
  `type` ENUM('buyer','seller','both') NULL DEFAULT NULL COMMENT '类型（买家、卖家、两者都是）',
  `created` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NULL DEFAULT NULL,
  `last_updated` DATETIME NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NULL DEFAULT NULL,
  `modification_number` INT(20) NULL DEFAULT NULL,
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=1220
DEFAULT CHARACTER SET = utf8
COMMENT = '客户公司划转日志';


-- -----------------------------------------------------
-- Table `steel_cbms`.`cust_account_attachment`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`cust_account_attachment` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `account_id` BIGINT(20) NOT NULL COMMENT '客户ID',
  `url` VARCHAR(100) NOT NULL COMMENT '附件地址',
  `type` ENUM('license','org_code','tax_reg','taxpayer_evidence','invoice_data','legal_ID','payment_data','consign_contract','enterprise_survey','open_account_license') NOT NULL COMMENT '附件类型\npic_license(\"license\", \"营业执照\"), \n	pic_org_code(\"org_code\", \"组织机构代码证\"), \n	pic_tax_reg(\"tax_reg\", \"税务登记证\"),\n pic_taxpayer_evidence(\"taxpayer_evidence\", \"一般纳税人证明\"), \n	pic_invoice_data(\"invoice_data\", \"开票资料\"), \n	pic_legal_ID(\"legal_ID\", \"法人身份证\"), \n	pic_payment_data(\"payment_data\", \"打款资料\"), \n	pic_consign_contract(\"consign_contract\", \"寄售合同\"), \n	pic_enterprise_survey(\"enterprise_survey\",\"企业调查表\"),\n	pic_open_account_license(\"open_account_license\",\"开户许可证\");',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=7804
DEFAULT CHARACTER SET = utf8
COMMENT = '客户公司附件信息';


-- -----------------------------------------------------
-- Table `steel_cbms`.`cust_account_bak_20151021`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`cust_account_bak_20151021` (
  `id` BIGINT(20) NOT NULL DEFAULT '0',
  `code` VARCHAR(45) NOT NULL COMMENT '公司代码',
  `name` VARCHAR(100) NOT NULL COMMENT '全称',
  `addr` VARCHAR(200) NULL DEFAULT NULL COMMENT '地址',
  `zip` VARCHAR(45) NULL DEFAULT NULL COMMENT '邮编',
  `tel` VARCHAR(45) NULL DEFAULT NULL COMMENT '公司电话',
  `balance` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '现金余额',
  `balance_freeze` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '冻结余额',
  `balance_second_settlement` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '二次结算记账余额',
  `balance_second_settlement_freeze` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '二次结算冻结余额',
  `fax` VARCHAR(45) NULL DEFAULT NULL COMMENT '传真',
  `legal_person_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '法人姓名',
  `mobil` VARCHAR(45) NULL DEFAULT NULL COMMENT '手机',
  `business` VARCHAR(200) CHARACTER SET 'utf8' COLLATE 'utf8_bin' NULL DEFAULT NULL COMMENT '经营品种',
  `web_site_url` VARCHAR(500) NULL DEFAULT NULL COMMENT '网址',
  `business_type` ENUM('merchant','factory','terminal','next_terminal','other') NULL DEFAULT NULL COMMENT '客户类型',
  `province_id` BIGINT(20) NULL DEFAULT NULL COMMENT '省份ID',
  `city_id` BIGINT(20) NULL DEFAULT NULL COMMENT '城市ID',
  `district_id` BIGINT(20) NULL DEFAULT NULL COMMENT '区域ID',
  `proxy_factory` VARCHAR(45) NULL DEFAULT NULL COMMENT '代理钢厂',
  `proxy_qty` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '代理数量 eg：1111.1111吨',
  `license_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '营业执照注册号',
  `reg_address` VARCHAR(100) NULL DEFAULT NULL COMMENT '公司注册地址',
  `org_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '组织机构代码',
  `bank_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '开户银行行号',
  `bank_name_main` VARCHAR(45) NULL DEFAULT NULL COMMENT '开户银行主行 如 工商银行',
  `bank_name_branch` VARCHAR(45) NULL DEFAULT NULL COMMENT '开户银行支行 如XX支行',
  `bank_province_id` BIGINT(20) NULL DEFAULT NULL COMMENT '银行所在省',
  `bank_city_id` BIGINT(20) NULL DEFAULT NULL COMMENT '银行所在城市',
  `account_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '银行账号',
  `tax_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '税号',
  `reg_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '注册时间 其实就是录入时间',
  `last_bill_time` DATETIME NULL DEFAULT NULL COMMENT '最后下单时间(买家)',
  `buyer_deal_total` INT(11) NOT NULL DEFAULT '0' COMMENT '成交次数',
  `seller_deal_total` INT(11) NOT NULL DEFAULT '0',
  `type` ENUM('buyer','seller','both') NULL DEFAULT NULL COMMENT '类型（买家、卖家、两者都是）',
  `consign_type` VARCHAR(45) NULL DEFAULT NULL COMMENT '寄售类型\nconsign 寄售\ntemp  临采',
  `manager_id` BIGINT(20) NULL DEFAULT NULL COMMENT '现任交易管理员',
  `status` INT(11) NULL DEFAULT '1' COMMENT '0锁定1解锁 2 买家开票资料待审核 3买家开票资料不全 4买家开票资料审核不通过',
  `invoice_data_status` VARCHAR(10) NULL DEFAULT NULL COMMENT '买家开票资料状态1.审核通过 2.待审核 3.资料不全 4。审核失败 ',
  `invoice_data_decline_reason` VARCHAR(255) NULL DEFAULT NULL COMMENT '买家开票资料审核失败原因',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`cust_account_bank`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`cust_account_bank` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `account_id` BIGINT(20) NOT NULL COMMENT '客户ID',
  `bank_code` VARCHAR(45) NOT NULL COMMENT '开户行编号',
  `bank_name` VARCHAR(45) NOT NULL COMMENT '开户银行主行 如 工商银行',
  `bank_name_branch` VARCHAR(45) NULL COMMENT '开户银行支行 如XX支行',
  `bank_province_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '银行所在省',
  `bank_city_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '银行所在城市',
  `bank_province_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '银行所在省',
  `bank_city_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '银行所在城市',
  `bank_account_code` VARCHAR(45) NOT NULL COMMENT '银行账号',
  `is_default` BIT(1) NULL DEFAULT 0 COMMENT '是否默认：\n0 否 ；\n1 是。',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=2292
DEFAULT CHARACTER SET = utf8
COMMENT = '客户公司银行账号';

CREATE UNIQUE INDEX `uix_cust_account_bank_code` ON `steel_cbms`.`cust_account_bank` (`bank_account_code` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`cust_account_contact`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`cust_account_contact` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `account_id` BIGINT(20) NOT NULL COMMENT '客户ID',
  `name` VARCHAR(45) NOT NULL COMMENT '姓名',
  `tel` VARCHAR(45) NOT NULL COMMENT '联系电话',
  `dept_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '部门',
  `qq` VARCHAR(45) NULL DEFAULT NULL COMMENT 'QQ',
  `email` VARCHAR(45) NULL DEFAULT NULL COMMENT '邮箱',
  `is_main` TINYINT(1) NOT NULL DEFAULT '0' COMMENT '是否主要联系人',
  `status` INT(11) NOT NULL DEFAULT '1' COMMENT '0锁定1正常',
  `manager` BIGINT(20) NOT NULL COMMENT '钢为管理员ID',
  `note` VARCHAR(45) NULL DEFAULT NULL,
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL,
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `type` VARCHAR(45) NULL DEFAULT NULL COMMENT '用户身份类型，buyer seller 买家卖家',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=1623
DEFAULT CHARACTER SET = utf8
COMMENT = '客户公司联系人';


-- -----------------------------------------------------
-- Table `steel_cbms`.`cust_account_contact_assign_logs`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`cust_account_contact_assign_logs` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `account_id` BIGINT(20) NOT NULL COMMENT '客户ID',
  `reg_time` DATETIME NOT NULL COMMENT '注册时间',
  `contact_name` VARCHAR(45) NOT NULL COMMENT '客户联系人',
  `manager_ex_id` BIGINT(20) NOT NULL COMMENT '前管理员ID',
  `manager_ex_name` VARCHAR(45) NOT NULL COMMENT '前管理员姓名',
  `manager_next_id` BIGINT(20) NOT NULL COMMENT '现管理员ID',
  `manager_next_name` VARCHAR(45) NOT NULL COMMENT '现管理员姓名',
  `assigner_id` BIGINT(20) NOT NULL COMMENT '分配人ID',
  `assigner_name` VARCHAR(45) NOT NULL COMMENT '分配人姓名',
  `type` ENUM('buyer','seller','both') NULL DEFAULT NULL COMMENT '类型（买家、卖家、两者都是）',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=756
DEFAULT CHARACTER SET = utf8
COMMENT = '客户公司联系人划转日志';


-- -----------------------------------------------------
-- Table `steel_cbms`.`cust_account_contract_template`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`cust_account_contract_template` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `account_id` BIGINT(20) NOT NULL COMMENT '客户ID',
  `name` VARCHAR(45) NULL DEFAULT NULL COMMENT '模板名称',
  `thumbnail_url` VARCHAR(100) NULL DEFAULT NULL COMMENT '缩略图地址',
  `content` TEXT NOT NULL COMMENT '合同模板',
  `type` ENUM('buyer','seller','both') NULL DEFAULT NULL COMMENT '类型（买家、卖家、两者都是）',
  `enabled` INT(11) NOT NULL DEFAULT '0' COMMENT '是否启用 0未启用 1启用',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=1273
DEFAULT CHARACTER SET = utf8
COMMENT = '客户公司合同模板';


-- -----------------------------------------------------
-- Table `steel_cbms`.`cust_account_trans_log`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`cust_account_trans_log` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `account_id` BIGINT(20) NOT NULL COMMENT '客户',
  `consign_order_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '寄售单号',
  `serial_number` VARCHAR(45) NULL DEFAULT NULL COMMENT '相关流水号',
  `apply_type` VARCHAR(30) NULL DEFAULT NULL COMMENT '申请类型:\n1 充值到资金账户\n2 支付合同货款\n3 二次结算\n4 资金账户转出\n5 抵扣二次结算账户欠款\n6 二次结算账户余额转入资金账户\n7 抵扣二次结算账户欠款\n8 合同款到账\n9 二次结算账户余额转入资金账户\n',
  `amount` DECIMAL(18,6) NOT NULL COMMENT '发生金额',
  `applyer_id` BIGINT(20) NOT NULL COMMENT '申请人ID',
  `applyer_name` VARCHAR(45) NOT NULL COMMENT '申请人姓名',
  `serial_time` DATETIME NOT NULL COMMENT '流水时间',
  `type` ENUM('buyer','seller','both') NULL DEFAULT NULL COMMENT '类型（买家、卖家、两者都是）',
  `current_balance` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '当前余额',
  `pay_type` ENUM('balance','settlement','freeze') NULL DEFAULT NULL COMMENT '支付类型1.余额(balance)2.结算(settlement)3.冻结(freeze)',
  `association_type` VARCHAR(30) NULL DEFAULT NULL COMMENT '关联类型：\n１付款单号\n２寄售交易单号\n３银行流水号\n4 还款流水号',
  `cash_happen_balance` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '现金发生余额',
  `cash_current_balance` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '现金当前余额',
  `status` INT(11) NULL DEFAULT '1' COMMENT '0未显示1显示',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT '0',
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(45) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(45) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=29893
DEFAULT CHARACTER SET = utf8
COMMENT = '客户公司账目划转详情';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_express`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_express` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `company` VARCHAR(45) NOT NULL COMMENT '快递公司名称 顺丰,EMS,人肉（自己带）',
  `express_name` VARCHAR(45) NOT NULL COMMENT '快递单号，快递公司类型为人肉则是运送人姓名',
  `type` VARCHAR(45) NOT NULL COMMENT '类型 IN进项票OUT销项票',
  `send_time` DATETIME NULL COMMENT '寄出时间',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=593
DEFAULT CHARACTER SET = utf8
COMMENT = '快递单信息';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_import_temp`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_import_temp` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `order_detail_id` BIGINT(20) NOT NULL COMMENT '订单详情ID',
  `code` VARCHAR(45) NOT NULL COMMENT '发票号',
  `invoice_date` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '发票日期',
  `nsort_name_comb` VARCHAR(100) NULL DEFAULT NULL COMMENT '货物或应税劳务、服务名称',
  `spec` VARCHAR(45) NULL DEFAULT NULL COMMENT '规格',
  `weight` DECIMAL(18,6) NOT NULL COMMENT '数量',
  `no_tax_amount` DECIMAL(18,6) NOT NULL COMMENT '金额',
  `tax_amount` DECIMAL(18,6) NOT NULL COMMENT '税额',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=1114
DEFAULT CHARACTER SET = utf8
COMMENT = '角色目录';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_in`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_in` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `area_code` VARCHAR(45) NULL COMMENT '区位码（10位）',
  `code` VARCHAR(45) NULL DEFAULT NULL COMMENT '发票号',
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心ID',
  `org_name` VARCHAR(45) NOT NULL COMMENT '服务中心名称',
  `seller_id` BIGINT(20) NOT NULL COMMENT '卖家ID',
  `seller_name` VARCHAR(45) NOT NULL COMMENT '卖家名称',
  `total_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总金额',
  `total_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总重量',
  `check_total_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '核实总金额',
  `check_total_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '核实总重量',
  `invoice_date` DATETIME NULL COMMENT '发票日期',
  `check_date` DATETIME NULL DEFAULT NULL COMMENT '核算日期',
  `check_user_id` BIGINT(20) NULL DEFAULT NULL COMMENT '核实员ID',
  `check_user_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '核实人姓名',
  `check_user_mobil` VARCHAR(45) NULL DEFAULT NULL COMMENT '核实员电话',
  `input_user_id` BIGINT(20) NULL DEFAULT NULL COMMENT '录入员ID',
  `input_user_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '录入人姓名',
  `input_user_mobil` VARCHAR(45) NULL DEFAULT NULL COMMENT '录入员电话',
  `status` VARCHAR(45) NULL COMMENT '发票状态：待寄出RECEIVED，待确认SENT，待认证(已确认)WAIT，已认证ALREADY，已作废CANCEL',
  `is_defer` BIT(1) NOT NULL DEFAULT b'0' COMMENT '是否延迟1(延迟)0(正常)',
  `relation_status` VARCHAR(45) NULL COMMENT '已确认:(待关联toberelation，已关联hasrelation)',
  `express_id` BIGINT(20) NOT NULL DEFAULT '0' COMMENT '快递单ID',
  `print_status` VARCHAR(45) NULL COMMENT '打印状态',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=3884
DEFAULT CHARACTER SET = utf8
COMMENT = '进项票主表';

CREATE UNIQUE INDEX `uix_inv_invoice_in_code` USING BTREE ON `steel_cbms`.`inv_invoice_in` (`code` ASC, `area_code` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_in_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_in_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `invoice_in_id` BIGINT(20) NOT NULL,
  `nsort_name` VARCHAR(45) NOT NULL COMMENT '品名',
  `material` VARCHAR(45) NOT NULL COMMENT '材质',
  `spec` VARCHAR(45) NOT NULL COMMENT '规格',
  `weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '重量',
  `no_tax_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '不含税金额',
  `tax_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '税额',
  `amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '含税金额',
  `nsort_name_comb` VARCHAR(200) NULL DEFAULT NULL COMMENT '品名与材质组合（组合中间会有空格,不能出现“详见清单”字样)',
  `type_of_spec` VARCHAR(45) NULL DEFAULT NULL COMMENT '参考值： 直径，折扣',
  `actual_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '实收金额（关联订单子项会有偏差）',
  `status` VARCHAR(45) NULL DEFAULT NULL COMMENT '待关联toberelation，已关联hasrelation',
  `check_weight` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '核算重量',
  `check_no_tax_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '核实发票无税金额',
  `check_tax_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '核实发票税金',
  `check_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '核算金额',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=7525
DEFAULT CHARACTER SET = utf8
COMMENT = '进项票主表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_in_detail_orderitem`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_in_detail_orderitem` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `invoice_detail_id` BIGINT(20) NOT NULL COMMENT '进项票子项与交易单子项关联表',
  `order_id` BIGINT(20) NOT NULL COMMENT '订单id',
  `orderitem_id` BIGINT(20) NOT NULL COMMENT '订单明细id',
  `weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '开票重量（默认是全部，但也存在未开完《=的情况）',
  `amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '开票金额',
  `active` INT(11) NULL DEFAULT '1' COMMENT '1: 有效，0：无效（因财务修改发票子项导致）',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=10610
DEFAULT CHARACTER SET = utf8
COMMENT = '进项票和订单明细关联表';

CREATE INDEX `IDX_orderitem_id_invoice_detail_id_active` ON `steel_cbms`.`inv_invoice_in_detail_orderitem` (`orderitem_id` ASC, `invoice_detail_id` ASC, `active` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_in_owner_transition`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_in_owner_transition` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `org_from_id` BIGINT(20) NOT NULL COMMENT '所有权转出服务中心ID',
  `org_from_name` VARCHAR(45) NOT NULL COMMENT '所有权转出服务中心名称',
  `org_to_id` BIGINT(20) NOT NULL COMMENT '所有权转入服务中心ID',
  `org_to_name` VARCHAR(45) NOT NULL COMMENT '所有权转入服务中心名称',
  `seller_id` BIGINT(20) NOT NULL COMMENT '卖家ID',
  `seller_name` VARCHAR(45) NOT NULL COMMENT '卖家名称',
  `nsort_name` VARCHAR(45) NOT NULL COMMENT '品名',
  `material` VARCHAR(45) NOT NULL COMMENT '材质',
  `spec` VARCHAR(45) NOT NULL COMMENT '规格',
  `not_invoiced_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '未开票金额 二次结算时增加，进项票进来时减少',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '二次结算进项票所有权转移表，跨服务中心交易时产生的进项票所有权';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_in_owner_transition_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_in_owner_transition_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `owner_transition_id` BIGINT(20) NOT NULL COMMENT '主表外键',
  `type` VARCHAR(45) NOT NULL COMMENT '数据来源类型,ORDER订单,INVOICE发票',
  `source_id` BIGINT(20) NOT NULL COMMENT '来源票据明细ID，订单：busi_consign_order_item.id 进项票 inv_invoice_in_detail.id',
  `amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '金额',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_out`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_out` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(45) NULL COMMENT '销项票真实票号',
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心ID',
  `org_name` VARCHAR(45) NOT NULL COMMENT '服务中心名称',
  `buyer_id` BIGINT(20) NOT NULL COMMENT '买家ID',
  `buyer_name` VARCHAR(45) NOT NULL COMMENT '买家名称',
  `amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '发票金额',
  `check_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '内勤核算录入金额',
  `check_user_id` BIGINT(20) NULL DEFAULT NULL COMMENT '核对内勤人员ID',
  `check_user_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '核对内勤人员姓名',
  `check_date` DATETIME NULL DEFAULT NULL COMMENT '核对日期',
  `invoice_date` DATETIME NULL DEFAULT NULL COMMENT '发票日期',
  `input_user_id` BIGINT(20) NULL DEFAULT NULL COMMENT '录入员ID',
  `input_user_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '录入人姓名',
  `input_user_mobil` VARCHAR(45) NULL DEFAULT NULL COMMENT '录入员电话',
  `express_id` BIGINT(20) NULL DEFAULT NULL COMMENT '快递单外键',
  `status` VARCHAR(45) NULL DEFAULT NULL COMMENT '发票状态:1待寄出; 2 未确认; 3确认通过; 4确认失败.',
  `print_status` VARCHAR(45) NULL COMMENT '打印状态',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '销项票主表';

CREATE UNIQUE INDEX `uix_inv_invoice_out_code` ON `steel_cbms`.`inv_invoice_out` (`code` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_out_apply`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_out_apply` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '申请开票金额',
  `actual_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '实开金额',
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心ID',
  `org_name` VARCHAR(45) NOT NULL COMMENT '服务中心名称',
  `submitter_id` BIGINT(20) NOT NULL COMMENT '提交人ID',
  `submitter_name` VARCHAR(45) NOT NULL COMMENT '提交人项目',
  `status` VARCHAR(45) NULL COMMENT 'PENDING_SUBMIT 待提交；\nPENDING_APPROVAL 待审核；\nAPPROVED 审核通过；\nDISAPPROVE 审核不通过；\nPARTIAL_INVOICED 部分开票；\nREVOKED 撤销；\nINVOICED 已开。',
  `comment` VARCHAR(255) NULL DEFAULT NULL COMMENT '备注',
  `is_deleted` TINYINT(4) NULL DEFAULT '0' COMMENT '是否删除： 0 未删除；1 已删除。',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=150
DEFAULT CHARACTER SET = utf8
COMMENT = '开票申请主表';

CREATE INDEX `IDX_invoice_out_apply_STATUS_is_deleted` ON `steel_cbms`.`inv_invoice_out_apply` (`status` ASC, `is_deleted` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_out_apply_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_out_apply_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `invoice_out_apply_id` BIGINT(20) NOT NULL COMMENT '开票申请编号',
  `owner_id` BIGINT(20) NOT NULL COMMENT '交易员ID',
  `owner_name` VARCHAR(45) NOT NULL COMMENT '交易员姓名',
  `org_id` BIGINT(20) NULL COMMENT '服务中心ID',
  `org_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '服务中心名称',
  `buyer_id` BIGINT(20) NOT NULL COMMENT '买家ID',
  `buyer_name` VARCHAR(45) NOT NULL COMMENT '买家名称',
  `apply_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '申请金额',
  `lend_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '挪用金额',
  `uninvoice_amount` DECIMAL(18,6) NULL DEFAULT '0.000000',
  `is_deleted` TINYINT(4) NULL DEFAULT '0' COMMENT '是否删除： 0 未删除；1 已删除。',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=1157
DEFAULT CHARACTER SET = utf8
COMMENT = '开票申请详情';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_out_checklist`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_out_checklist` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心编号',
  `code` VARCHAR(45) NOT NULL COMMENT '订单编号',
  `amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '申请开票金额',
  `status` VARCHAR(45) NULL COMMENT 'INVOICED 已开；\nPARTIAL_INVOICED 部分开票；\nSTAYED_INVOICED 待开；\nRESPITE_INVOICED 暂缓。',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=196
DEFAULT CHARACTER SET = utf8
COMMENT = '开票清单';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_out_checklist_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_out_checklist_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `checklist_id` BIGINT(20) UNSIGNED ZEROFILL NOT NULL COMMENT '清单编号',
  `item_detail_id` BIGINT(20) NOT NULL COMMENT '申请编号',
  `amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '清单开票金额',
  `weight` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '清单开票重量',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=4373
DEFAULT CHARACTER SET = utf8
COMMENT = '申请-清单关联表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_out_item_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_out_item_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `inv_invoice_in_id` BIGINT(20) NOT NULL COMMENT '进项票ID',
  `inv_invoice_in_detail_id` BIGINT(20) NOT NULL COMMENT '进项详情ID',
  `invoice_orderitem_id` BIGINT(20) NOT NULL COMMENT '进项票详情与订单详情关联表ID',
  `apply_detail_id` BIGINT(20) NOT NULL COMMENT '开票申请详情ID',
  `nsort_name` VARCHAR(45) NOT NULL COMMENT '品名（来自于进项票）',
  `material` VARCHAR(45) NOT NULL COMMENT '材质',
  `spec` VARCHAR(45) NOT NULL COMMENT '规格',
  `weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '开票重量',
  `actual_weight` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '实开重量',
  `price` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '单价',
  `no_tax_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '不含税金额',
  `tax_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '税额',
  `amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '含税金额',
  `actual_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '实开金额',
  `order_detail_id` BIGINT(20) NOT NULL COMMENT '订单详情ID',
  `status` VARCHAR(45) NULL COMMENT '已开；未开。',
  `is_defer` BIT(1) NOT NULL DEFAULT b'0' COMMENT '是否延迟1(延迟)0(正常)',
  `is_deleted` TINYINT(4) NULL DEFAULT '0' COMMENT '是否删除： 0 未删除；1 已删除。',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=7367
DEFAULT CHARACTER SET = utf8
COMMENT = '开票申请详情项';

CREATE INDEX `IDX_inv_invoice_in_detail_id_apply_detail_id_is_deleted` ON `steel_cbms`.`inv_invoice_out_item_detail` (`inv_invoice_in_detail_id` ASC, `apply_detail_id` ASC, `is_deleted` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_out_receipt`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_out_receipt` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT COMMENT '编号',
  `apply_detail_id` BIGINT(20) NOT NULL COMMENT '申请ID',
  `item_detail_id` BIGINT(20) NOT NULL COMMENT '详情项iID',
  `checklist_id` BIGINT(20) NOT NULL COMMENT '清单ID',
  `amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '开票金额',
  `weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '开票重量',
  `djh` VARCHAR(45) NOT NULL COMMENT '单据号',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=18919
DEFAULT CHARACTER SET = utf8
COMMENT = '票据关联表（爱信诺票据信息）';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_invoice_pool`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_invoice_pool` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `type` VARCHAR(45) NULL DEFAULT NULL COMMENT '发票类型 IN进项票 OUT销项票(系统生成)',
  `invoice_code` VARCHAR(45) NOT NULL COMMENT '发票号',
  `org_id` BIGINT(20) NOT NULL,
  `org_name` VARCHAR(45) NOT NULL COMMENT '归属服务中心',
  `sort_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '大类',
  `nsort_name` VARCHAR(45) NOT NULL COMMENT '品名',
  `material` VARCHAR(45) NOT NULL COMMENT '材质',
  `spec` VARCHAR(45) NOT NULL COMMENT '规格',
  `no_tax_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '不含税金额',
  `tax_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '税额',
  `amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '含税金额',
  `weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '重量',
  `invoice_date` DATETIME NOT NULL COMMENT '开票确认日期，注：这里的日期不是发票的开票日期，是确认日期，如果一张进项票开票时间是7月，确认日期是8月，算作8月的开票，此字段用于统计当月进销项票总额',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '发票池';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_org_invoice_out_apply`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_org_invoice_out_apply` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '申请开票金额',
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心ID',
  `org_name` VARCHAR(45) NOT NULL COMMENT '服务中心名称',
  `submitter_id` BIGINT(20) NOT NULL COMMENT '提交人ID',
  `submitter_name` VARCHAR(45) NOT NULL COMMENT '提交人项目',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '服务中心开票申请';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_org_invoice_out_balance_monthly`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_org_invoice_out_balance_monthly` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `month` VARCHAR(45) NULL DEFAULT NULL COMMENT 'YYYYMM月份',
  `org_id` BIGINT(20) NULL DEFAULT NULL,
  `org_name` VARCHAR(45) NULL DEFAULT NULL,
  `invoice_in_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '当月进项金额',
  `invoice_out_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '当月销项金额',
  `invoice_out_balance` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '历史可开销项票结余',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '服务中心每月销项票余额记录 每月定时job计算';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_org_invoice_out_item_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_org_invoice_out_item_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `invoice_out_main_id` BIGINT(20) NOT NULL COMMENT '发票编号ID 外键',
  `nsort_name` VARCHAR(45) NOT NULL COMMENT '品名',
  `material` VARCHAR(45) NOT NULL COMMENT '材质',
  `spec` VARCHAR(45) NOT NULL COMMENT '规格',
  `weight` DECIMAL(18,6) NOT NULL COMMENT '重量',
  `price` DECIMAL(18,6) NOT NULL COMMENT '单价',
  `no_tax_amount` DECIMAL(18,6) NOT NULL COMMENT '不含税金额',
  `tax_amount` DECIMAL(18,6) NOT NULL COMMENT '税额',
  `amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '含税金额',
  `export_time` DATETIME NULL DEFAULT NULL COMMENT '首次导出实际',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '开票计算结果（品规级）';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_org_invoice_out_main`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_org_invoice_out_main` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `org_apply_id` BIGINT(20) NULL DEFAULT NULL,
  `code` VARCHAR(45) NULL DEFAULT NULL COMMENT '系统生成发票编号',
  `real_code` VARCHAR(45) NULL DEFAULT NULL COMMENT '真实销项发票号',
  `buyer_id` BIGINT(20) NOT NULL COMMENT '买家ID',
  `buyer_name` VARCHAR(45) NOT NULL COMMENT '买家名称',
  `total_no_tax_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '总不含税金额',
  `total_tax_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '总税额',
  `total_amount` DECIMAL(18,6) NOT NULL COMMENT '总金额',
  `total_weight` DECIMAL(18,6) NOT NULL COMMENT '总重量',
  `real_invoice_date` DATETIME NULL DEFAULT NULL COMMENT '真实发票开票日期',
  `status` VARCHAR(45) NULL DEFAULT NULL COMMENT '0财务未开票，1财务已开票',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '销项票发票号（系统生成）表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_org_invoice_out_order_item`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_org_invoice_out_order_item` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `item_detail_id` BIGINT(20) NOT NULL COMMENT '外键 开票结果品规级主键',
  `order_item_id` BIGINT(20) NOT NULL COMMENT '订单明细ID',
  `weight` DECIMAL(18,6) NOT NULL COMMENT '开票重量',
  `amount` DECIMAL(18,6) NOT NULL COMMENT '开票金额',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '开票计算结果(订单明细级)';


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_pool_in`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_pool_in` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心ID',
  `org_name` VARCHAR(45) NOT NULL COMMENT '服务中心名称',
  `seller_id` BIGINT(20) NOT NULL COMMENT '卖家ID',
  `seller_name` VARCHAR(45) NOT NULL COMMENT '卖家名称',
  `total_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总金额',
  `total_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总重量',
  `total_received_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已收总金额',
  `total_received_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已收总重量',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=2002
DEFAULT CHARACTER SET = utf8
COMMENT = '进项池主表';

CREATE UNIQUE INDEX `uix_inv_pool_in_seller` ON `steel_cbms`.`inv_pool_in` (`org_id` ASC, `seller_id` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_pool_in_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_pool_in_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `pool_in_id` BIGINT(20) NOT NULL,
  `nsort_name` VARCHAR(45) NOT NULL COMMENT '品名',
  `material` VARCHAR(45) NOT NULL COMMENT '材质',
  `spec` VARCHAR(45) NOT NULL COMMENT '规格',
  `total_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总金额',
  `total_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总重量',
  `received_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已收金额',
  `received_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已收重量',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=7923
DEFAULT CHARACTER SET = utf8
COMMENT = '进项池明细表';

CREATE UNIQUE INDEX `uix_inv_pool_in_detail_info` ON `steel_cbms`.`inv_pool_in_detail` (`pool_in_id` ASC, `nsort_name` ASC, `material` ASC, `spec` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_pool_out`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_pool_out` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心ID',
  `org_name` VARCHAR(45) NOT NULL COMMENT '服务中心名称',
  `owner_id` BIGINT(20) NOT NULL COMMENT '交易员ID',
  `owner_name` VARCHAR(45) NOT NULL COMMENT '交易员姓名',
  `buyer_id` BIGINT(20) NOT NULL COMMENT '买家ID',
  `buyer_name` VARCHAR(45) NOT NULL COMMENT '买家名称',
  `total_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总金额',
  `total_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总重量',
  `total_sent_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已付总金额',
  `total_sent_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已付总重量',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=1179
DEFAULT CHARACTER SET = utf8
COMMENT = '销项池主表';

CREATE UNIQUE INDEX `uix_inv_pool_out_buyer` ON `steel_cbms`.`inv_pool_out` (`org_id` ASC, `owner_id` ASC, `buyer_id` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_pool_out_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_pool_out_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `pool_out_id` BIGINT(20) NOT NULL,
  `nsort_name` VARCHAR(45) NOT NULL COMMENT '品名',
  `material` VARCHAR(45) NOT NULL COMMENT '材质',
  `spec` VARCHAR(45) NOT NULL COMMENT '规格',
  `total_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '未开票总金额',
  `total_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '未开票总重量',
  `sent_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已开票金额',
  `sent_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已开票重量',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=5024
DEFAULT CHARACTER SET = utf8
COMMENT = '销项池明细表';

CREATE INDEX `fk_pool_out_detail_master_id_idx` ON `steel_cbms`.`inv_pool_out_detail` (`pool_out_id` ASC);


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_pool_out_detail_temp`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_pool_out_detail_temp` (
  `id` BIGINT(20) NOT NULL DEFAULT '0',
  `pool_out_id` BIGINT(20) NOT NULL,
  `nsort_name` VARCHAR(45) NOT NULL COMMENT '品名',
  `material` VARCHAR(45) NOT NULL COMMENT '材质',
  `spec` VARCHAR(45) NOT NULL COMMENT '规格',
  `total_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '未开票总金额',
  `total_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '未开票总重量',
  `sent_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已开票金额',
  `sent_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已开票重量',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`inv_pool_out_temp`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`inv_pool_out_temp` (
  `id` BIGINT(20) NOT NULL DEFAULT '0',
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心ID',
  `org_name` VARCHAR(45) NOT NULL COMMENT '服务中心名称',
  `owner_id` BIGINT(20) NOT NULL COMMENT '交易员ID',
  `owner_name` VARCHAR(45) NOT NULL COMMENT '交易员姓名',
  `buyer_id` BIGINT(20) NOT NULL COMMENT '买家ID',
  `buyer_name` VARCHAR(45) NOT NULL COMMENT '买家名称',
  `total_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总金额',
  `total_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '总重量',
  `total_sent_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已付总金额',
  `total_sent_weight` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '已付总重量',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`report_new_user_reward`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`report_new_user_reward` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `add_date` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '提成日期（按天统计）',
  `manager_id` BIGINT(20) NULL DEFAULT NULL COMMENT '交易员ID',
  `manager_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '交易员姓名',
  `org_id` BIGINT(20) NULL DEFAULT NULL COMMENT '组织ID',
  `org_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '组织名称',
  `active` BIT(1) NOT NULL DEFAULT b'0' COMMENT '这笔提成是否生效',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `is_deleted` BIT(1) NULL DEFAULT NULL,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `add_new_buyer` BIGINT(20) NULL DEFAULT NULL COMMENT '新增买家id',
  `add_new_seller` BIGINT(20) NULL DEFAULT NULL COMMENT '新增卖家id',
  `seller_reward_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '新增卖家提成金额',
  `buyer_reward_amount` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '新增买家提成金额',
  `buyer_reward_role` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '新增买家提成规则',
  `seller_reward_role` DECIMAL(18,6) NOT NULL DEFAULT '0.000000' COMMENT '新增卖家提成规则',
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=532
DEFAULT CHARACTER SET = utf8
COMMENT = '添加新客户的提成报表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`report_rebate_record`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`report_rebate_record` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `rebate_time` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '返利时间',
  `account_id` BIGINT(20) NULL DEFAULT NULL COMMENT '公司ID',
  `account_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '公司名称',
  `org_id` BIGINT(11) NULL DEFAULT NULL COMMENT '组织ID',
  `org_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '组织名称',
  `manager_id` BIGINT(11) NULL DEFAULT NULL COMMENT '交易员ID',
  `manager_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '交易员姓名',
  `contact_id` BIGINT(20) NULL DEFAULT NULL COMMENT '联系人ID',
  `contact_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '联系人姓名',
  `category_group_UUID` VARCHAR(255) NULL DEFAULT NULL COMMENT '大类UUID',
  `category_group_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '大类名称',
  `weight` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '重量',
  `amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '金额',
  `rebate_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '返利总金额',
  `rebate_balance` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '返利余额',
  `code` VARCHAR(45) NULL DEFAULT NULL COMMENT '单号',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `is_deleted` BIT(1) NULL DEFAULT NULL,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=9451
DEFAULT CHARACTER SET = utf8
COMMENT = '买家返利报表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`report_reward_record`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`report_reward_record` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `order_id` BIGINT(20) NOT NULL COMMENT '订单id',
  `order_items_id` BIGINT(20) NOT NULL COMMENT '订单详情id',
  `reward_date` DATETIME NULL DEFAULT NULL COMMENT '提成日期（按天统计）',
  `category_group_UUID` VARCHAR(255) NULL DEFAULT NULL COMMENT '大类名称',
  `category_group_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '大类名称',
  `buyer_manager_id` BIGINT(20) NULL DEFAULT NULL COMMENT '买家交易员ID',
  `buyer_manager_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '买家交易员姓名',
  `category_rewart_role_id` BIGINT(20) NULL DEFAULT NULL COMMENT '品类提成规则id',
  `category_rewart_role` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '品类提成规则（元/吨）',
  `buyer_rewart_role_id` BIGINT(20) NULL DEFAULT NULL COMMENT '买家提成规则id',
  `seller_rewart_role_id` BIGINT(20) NULL DEFAULT NULL COMMENT '卖家提成规则id',
  `status` VARCHAR(45) NULL DEFAULT NULL COMMENT '预留字段，是否已发放该提成  NO还未发放  YES已发放',
  `is_deleted` BIT(1) NULL DEFAULT NULL,
  `buyer_manager_org_id` BIGINT(20) NULL DEFAULT NULL COMMENT '买家交易员组织ID',
  `buyer_manager_org_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '买家交易员组织名称',
  `seller_manager_id` BIGINT(20) NULL DEFAULT NULL COMMENT '卖家交易员id',
  `seller_manager_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '卖家交易员名字',
  `seller_manager_org_id` BIGINT(20) NULL DEFAULT NULL COMMENT '卖家交易员组织ID',
  `seller_manager_org_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '卖家交易员组织名称',
  `consign_type` VARCHAR(45) NULL DEFAULT NULL COMMENT '卖家类型consign寄售卖家temp临采卖家',
  `weight` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '实提重量',
  `buyer_rewart_role` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '买家提成规则百分比',
  `seller_rewart_role` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '卖家提成规则百分比',
  `buyer_reward_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '买家提成总金额',
  `seller_reward_amount` DECIMAL(18,6) NULL DEFAULT NULL COMMENT '卖家提成总金额',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=12413
DEFAULT CHARACTER SET = utf8
COMMENT = '提成报表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`report_withdraw_record`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`report_withdraw_record` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `withdraw_date` DATETIME NULL DEFAULT NULL COMMENT '提现时间',
  `account_id` BIGINT(100) NULL DEFAULT '0' COMMENT '公司ID',
  `contact_id` VARCHAR(255) NULL DEFAULT '0' COMMENT '用户ID',
  `contact_name` VARCHAR(255) NULL DEFAULT NULL COMMENT '用户姓名',
  `contact_tel` VARCHAR(50) NULL DEFAULT NULL COMMENT '用户电话（来自IV）',
  `withdraw_amount` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '提现金额',
  `balance` DECIMAL(18,6) NULL DEFAULT '0.000000' COMMENT '提现后余额',
  `sync_id` INT(11) NULL DEFAULT NULL COMMENT '同步ID，IV数据主键，用于同步记录到cbms',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `is_deleted` BIT(1) NULL DEFAULT NULL,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=5
DEFAULT CHARACTER SET = utf8
COMMENT = '提现记录报表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`temp`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`temp` (
  `id` INT(11) NOT NULL AUTO_INCREMENT,
  `code` VARCHAR(200) NULL DEFAULT NULL,
  `name` VARCHAR(200) NULL DEFAULT NULL,
  `money` DECIMAL(18,6) NULL DEFAULT NULL,
  `hit` INT(11) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
-- AUTO_INCREMENT=269
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`temp_inv_pool`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`temp_inv_pool` (
  `row_id` DOUBLE NULL DEFAULT NULL,
  `rownum` DOUBLE NULL DEFAULT NULL,
  `buy_id` BIGINT(20) NULL DEFAULT NULL COMMENT '买家ID',
  `buy_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '买家企业名称',
  `owner_id` BIGINT(20) NULL DEFAULT NULL COMMENT '交易员ID',
  `owner_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '用户姓名',
  `org_id` BIGINT(20) NULL DEFAULT NULL COMMENT '组织ID',
  `org_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '名称',
  `nsort_name` VARCHAR(45) NULL DEFAULT NULL COMMENT '品名',
  `material` VARCHAR(45) NULL DEFAULT NULL COMMENT '材质',
  `spec` VARCHAR(45) NULL DEFAULT NULL COMMENT '规格',
  `total_weight` DECIMAL(40,6) NULL DEFAULT NULL,
  `total_amount` DECIMAL(49,2) NULL DEFAULT NULL,
  `pool_id` INT(6) NOT NULL DEFAULT '0')
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8;


-- -----------------------------------------------------
-- Table `steel_cbms`.`acl_user_org`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`acl_user_org` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NOT NULL COMMENT '用户ID',
  `org_id` BIGINT(20) NOT NULL COMMENT '服务中心ID',
  `created` DATETIME NOT NULL,
  `created_by` VARCHAR(255) NOT NULL,
  `last_updated` DATETIME NOT NULL,
  `last_updated_by` VARCHAR(255) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '用户服务中心管理表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_icbc_bdl_detail`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_icbc_bdl_detail` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `Drcrf` VARCHAR(10) NULL DEFAULT NULL COMMENT '借贷标志1:借 2:贷',
  `VouhNo` VARCHAR(45) NULL DEFAULT NULL COMMENT '凭证号',
  `DebitAmount` VARCHAR(45) NULL DEFAULT NULL COMMENT '借方发生额',
  `CreditAmount` VARCHAR(45) NULL DEFAULT NULL COMMENT '贷方发生额',
  `Balance` VARCHAR(45) NULL DEFAULT NULL COMMENT '余额',
  `RecipBkNo` VARCHAR(45) NULL DEFAULT NULL COMMENT '对方行号',
  `RecipBkName` VARCHAR(500) NULL DEFAULT NULL COMMENT '对方行名\n',
  `RecipAccNo` VARCHAR(45) NULL DEFAULT NULL COMMENT '对方账号',
  `RecipName` VARCHAR(500) NULL DEFAULT NULL COMMENT '对方户名',
  `Summary` VARCHAR(100) NULL DEFAULT NULL COMMENT '摘要',
  `UseCN` VARCHAR(100) NULL DEFAULT NULL COMMENT '用途',
  `PostScript` VARCHAR(300) NULL DEFAULT NULL COMMENT '附言',
  `BusCode` VARCHAR(60) NULL DEFAULT NULL COMMENT '业务代码',
  `Date` VARCHAR(20) NULL DEFAULT NULL COMMENT '交易日期',
  `Time` VARCHAR(45) NULL DEFAULT NULL COMMENT '时间戳',
  `Ref` VARCHAR(45) NULL DEFAULT NULL COMMENT '业务编号',
  `Oref` VARCHAR(45) NULL DEFAULT NULL COMMENT '相关业务编号',
  `EnSummary` VARCHAR(100) NULL DEFAULT NULL COMMENT '英文备注',
  `BusType` VARCHAR(45) NULL DEFAULT NULL COMMENT '业务种类',
  `VouhType` VARCHAR(45) NULL DEFAULT NULL COMMENT '凭证种类',
  `AddInfo` VARCHAR(500) NULL DEFAULT NULL COMMENT '附加信息',
  `RepReserved3` VARCHAR(300) NULL DEFAULT NULL COMMENT '响应备用字段3',
  `RepReserved4` VARCHAR(45) NULL DEFAULT NULL COMMENT '响应备用字段4',
  `begin_number` INT(11) NOT NULL DEFAULT '0' COMMENT '查询起始笔数',
  `begin_date` VARCHAR(20) NULL DEFAULT NULL COMMENT '查询起始日期',
  `end_date` VARCHAR(20) NULL DEFAULT NULL COMMENT '查询结束日期',
  `status` INT(11) NULL DEFAULT '0' COMMENT '0未处理1处理完2处理中',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '工行银企直连明细表';


-- -----------------------------------------------------
-- Table `steel_cbms`.`busi_icbc_bdl_header`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `steel_cbms`.`busi_icbc_bdl_header` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `AccNo` VARCHAR(45) NOT NULL COMMENT '账号',
  `AccName` VARCHAR(200) NULL DEFAULT NULL COMMENT '户名',
  `CurrType` VARCHAR(10) NULL DEFAULT NULL COMMENT '币种',
  `BeginDate` VARCHAR(20) NULL DEFAULT NULL COMMENT '起始日期',
  `EndDate` VARCHAR(20) NULL DEFAULT NULL COMMENT '截止日期',
  `MinAmt` VARCHAR(45) NULL DEFAULT NULL COMMENT '发生额下限',
  `MaxAmt` VARCHAR(45) NULL DEFAULT NULL COMMENT '发生额上限',
  `NextTag` VARCHAR(200) NULL DEFAULT NULL COMMENT '查询下页标识\n',
  `TotalNum` VARCHAR(45) NULL DEFAULT NULL COMMENT '交易条数',
  `RepReserved1` VARCHAR(100) NULL DEFAULT NULL COMMENT '响应备用字段1',
  `RepReserved2` VARCHAR(300) NULL DEFAULT NULL COMMENT '响应备用字段2',
  `status` INT(11) NULL DEFAULT '0' COMMENT '0未处理1处理完2处理中',
  `created` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `created_by` VARCHAR(45) NOT NULL,
  `last_updated` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `last_updated_by` VARCHAR(45) NOT NULL,
  `modification_number` INT(20) NOT NULL DEFAULT '0',
  `row_id` VARCHAR(45) NULL DEFAULT NULL,
  `parent_row_id` VARCHAR(45) NULL DEFAULT NULL,
  `ext1` VARCHAR(20) NULL DEFAULT NULL,
  `ext2` VARCHAR(45) NULL DEFAULT NULL,
  `ext3` VARCHAR(255) NULL DEFAULT NULL,
  `ext4` INT(11) NULL DEFAULT NULL,
  `ext5` INT(11) NULL DEFAULT NULL,
  `ext6` INT(11) NULL DEFAULT NULL,
  `ext7` DATETIME NULL DEFAULT NULL,
  `ext8` BIGINT(20) NULL DEFAULT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '工行银企直连主表';

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
